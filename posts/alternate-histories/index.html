<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alternate Histories | Superluser</title>

    
            <link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

    
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">

      <link rel="canonical" href="http://rose.github.io/posts/alternate-histories/">




    
        <!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->

    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans%7CDroid+Sans+Mono">


    

    <meta name="author" content="Rose Ames">
        <link rel="prev" href="../../posts/beginner-eye-for-the-expert-guy/" title="Beginner Eye for the Expert Guy" type="text/html">
        <link rel="next" href="../../posts/the-post-of-my-dreams/" title="The Post of My Dreams" type="text/html">
    
    <meta property="og:site_name" content="Superluser">
    <meta property="og:title" content="Alternate Histories">
    <meta property="og:url" content="http://rose.github.io/posts/alternate-histories/">
    <meta property="og:description" content="A couple days ago I wrote a post about bash's history completion.  It has since been brought to my attention that lesser programmers are in the habit of making &quot;mistakes&quot; when typing commands.  This p">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2014-11-09T02:02:35+00:00">

    

    



</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://rose.github.io/">

                <span id="blog-title">Superluser</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li>
<a href="../../archive.html">Archives</a>
                </li>
<li>
<a href="../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS</a>

                
            </li>
</ul>

            <ul class="nav navbar-nav navbar-right">
                
                
                    
    <li>
    <a href="../../posts/alternate-histories/index.rst" id="sourcelink">Source</a>
    </li>

                
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav>

<!-- End of Menubar -->

<div class="container" id="content">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    <header>
        
    <h1 class="p-name entry-title" itemprop="headline name"><a href="../../posts/alternate-histories/" class="u-url">Alternate Histories</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Rose Ames</span></p>
            <p class="dateline"><a href="../../posts/alternate-histories/" rel="bookmark"><time class="published dt-published" datetime="2014-11-09T02:02:35+00:00" itemprop="datePublished" title="2014-11-09 02:02">2014-11-09 02:02</time></a></p>
                <p class="commentline">
        
    <a href="../../posts/alternate-histories/#disqus_thread" data-disqus-identifier="cache/posts/alternate-histories.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="../../posts/alternate-histories/index.rst" id="sourcelink">Source</a></p>

        </div>
        

    </header>

    <div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>A couple days ago I wrote <a class="reference external" href="../../posts/starting-with-a-bang/">a post</a> about bash's history completion.  It has since been brought to my attention that lesser programmers are in the habit of making "mistakes" when typing commands.  This post is dedicated to those unfortunate souls.</p>
<p>If you're unsure what a history expansion will do, you can have bash print it out:</p>
<pre class="code console literal-block">
<span class="gp">$</span> touch !-3*:p  <span class="c"># recall that !-3* is the arguments of the third most recent command.
</span><span class="go">                # the new command is echoed but *not* run
touch king of the world</span>
</pre>
<p>The expanded line will be added to your history even though it wasn't run, so if it's what you wanted you can run it with !!.  If it's close but not quite right, hit up or ^P to edit it.</p>
<!-- TEASER_END -->
<p>This colon nonsense also lets you perform substitutions:</p>
<pre class="code console literal-block">
<span class="gp">$</span> vin ordinaire
<span class="go">bash: vin: command not found
</span><span class="gp">$</span> !!:s/n/m
<span class="go">vim ordinaire</span>
</pre>
<p>Note that only the first instance of the first string is substituted.  Using gs instead of s will replace every match.</p>
<p>That's handy, but a little verbose.  There's a short form that's equivalent to !!:s:</p>
<pre class="code console literal-block">
<span class="gp">$</span> grep -lIr awesomeness ./* <span class="c"># whoops, I wanted that to be case insensitive
</span><span class="gp">$</span><span class="c"></span> ^l^il
<span class="go">grep -ilIr awesomeness ./*
./todo:1005: (Note: this item should increase my AWESOMENESS by 2.7%.)</span>
</pre>
<p>Finally, in the last post I forgot^H^H^H^H^H^Hwas too awesome to mention that !? will find a match anywhere in the command, not just the beginning:</p>
<pre class="code console literal-block">
<span class="gp">$</span> !?dev
<span class="go">vim /dev/null</span>
</pre>
<p>This is not exhaustive, believe it or not, but we've covered all of the options that I use.  If you think you need to know more about bash history expansion, I recommend seeking immediate psychiatric help.  But while you're waiting you could read what <a class="reference external" href="http://blog.sanctum.geek.nz/bash-history-expansion/">Arabesque</a> or <a class="reference external" href="http://www.catonmat.net/blog/the-definitive-guide-to-bash-command-line-history/">Peteris Krumins</a> have to say about the subject (spoiler: a lot).</p>
</div>
    </div>
    <aside class="postpromonav">
    <nav>
    

    
        <ul class="pager">
            <li class="previous">
                <a href="../../posts/beginner-eye-for-the-expert-guy/" rel="prev" title="Beginner Eye for the Expert Guy">Previous post</a>
            </li>
            <li class="next">
                <a href="../../posts/the-post-of-my-dreams/" rel="next" title="The Post of My Dreams">Next post</a>
            </li>
        </ul>

    </nav>
    </aside>
        <section class="comments">
        <h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="superluser",
            disqus_url="http://rose.github.io/posts/alternate-histories/",
        disqus_title="Alternate Histories",
        disqus_identifier="cache/posts/alternate-histories.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section>
    

</article>

        
       <script>var disqus_shortname="superluser";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>



        </div>
        <!--End of body content-->

        <footer>
            Contents Â© 2015         <a href="mailto:rose@happyspork.com">Rose Ames</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
    </div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    <!-- fancy dates -->
    <script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script>
    <!-- end fancy dates -->
    


</body>
</html>
